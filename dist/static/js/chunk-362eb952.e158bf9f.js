(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-362eb952"],{"8a4f":function(t,e,a){"use strict";a("ae7f")},ae7f:function(t,e,a){},e1b0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"kanboard"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:12}},[a("v-autocomplete",{attrs:{items:t.getProjectList,label:"Select Project"},on:{change:t.handleProjectChange},model:{value:t.project_id,callback:function(e){t.project_id=e},expression:"project_id"}})],1),t._l(t.getTaskStatus,(function(e){return[a("v-col",{key:e.value},[a("v-card",{attrs:{loading:t.loading}},[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v(t._s(e.text)+" ")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.handleCreateTask}},[a("v-icon",[t._v("mdi-plus")])],1)],1),a("v-divider"),a("v-card-text",{staticClass:"task-list",attrs:{id:"task-list__"+e.value,"data-status":e.value}},[t._l(t.getTaskByStatus(e.value),(function(e){return[a("div",{key:e.id,staticClass:"task-list__item",attrs:{"data-id":e.id}},[a("v-list-item",{attrs:{value:e}},[a("v-list-item-avatar",[e.owner?a("c-avatar",{attrs:{size:32,username:e.owner,src:t.computeAvatar(e.owner)}}):a("v-icon",[t._v("mdi-account-circle")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" #"+t._s(e.id)+" "+t._s(e.name))]),a("v-list-item-subtitle",[t._v(t._s(e.description))])],1),a("v-list-item-action",[a("v-icon",{attrs:{small:""},on:{click:function(a){return a.stopPropagation(),t.handleEditItem(e)}}},[t._v("mdi-pencil")])],1)],1)],1)]}))],2)],1)],1)]}))],2)],1),a("v-dialog",{attrs:{scrollable:"",width:"840"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("task-form",{attrs:{item:t.selectedItem},on:{"form:success":t.handleFormSuccess}})],1)],1)},s=[],n=a("5530"),o=(a("4160"),a("159b"),a("4de4"),a("2f62")),c=a("f126"),r=a("5ee3"),l=a("aa47"),d=a("aa7e"),u={name:"KanBoard",components:{CAvatar:c["a"],TaskForm:r["a"]},mixins:[d["a"]],data:function(){return{project_id:1,showDialog:!1,loading:!1,items:[],selectedItem:null,actions:[{text:"Edit Item",icon:"mdi-pencil",click:this.handleEditItem},{text:"Delete Item",icon:"mdi-close",click:this.handleDeleteItem}]}},computed:Object(n["a"])({},Object(o["b"])(["getTaskStatus","getProjectList"])),created:function(){var t=this;this.$store.dispatch("fetchProject"),this.fetchTask(),this.$nextTick((function(){t.getTaskStatus.forEach((function(e){new l["b"](document.querySelector("#task-list__".concat(e.value)),{group:"shared",animation:150,onEnd:function(e){var a=e.item.dataset.id,i=e.to.dataset.status;t.$store.dispatch("updateTaskStatus",{id:a,status:i})}})}))}))},methods:{fetchTask:function(){var t=this;this.items=[],this.loading=!0;var e={"filter[project_id]":this.project_id};this.$store.dispatch("fetchTask",e).then((function(e){t.items=e.data,t.loading=!1}))["catch"]((function(){t.loading=!1}))},computeAvatar:function(t){var e=this.getUsername===t?this.getAvatar:"";return e},handleProjectChange:function(){this.fetchTask()},getTaskByStatus:function(t){return this.items.filter((function(e){return e.status===t}))},handleCreateTask:function(){this.selectedItem=null,this.showDialog=!0},handleEditItem:function(t){this.selectedItem=t,this.showDialog=!0},handleDeleteItem:function(t){var e=this,a=t.id;window.confirm("Are you sure to delete this")&&this.$store.dispatch("deleteTask",a).then((function(){e.items=e.items.filter((function(t){return t.id!=a}))}))},handleFormSuccess:function(){this.fetchTask(),this.showDialog=!1}}},h=u,m=(a("8a4f"),a("2877")),v=a("6544"),f=a.n(v),p=a("c6a6"),k=a("8336"),g=a("b0af"),b=a("99d9"),_=a("62ad"),w=a("a523"),T=a("169a"),V=a("ce7e"),I=a("132d"),j=a("da13"),C=a("1800"),D=a("8270"),S=a("5d23"),x=a("0fd9"),A=a("2fa4"),L=a("71d9"),E=a("2a7f"),P=Object(m["a"])(h,i,s,!1,null,"b7b53e0c",null);e["default"]=P.exports;f()(P,{VAutocomplete:p["a"],VBtn:k["a"],VCard:g["a"],VCardText:b["b"],VCol:_["a"],VContainer:w["a"],VDialog:T["a"],VDivider:V["a"],VIcon:I["a"],VListItem:j["a"],VListItemAction:C["a"],VListItemAvatar:D["a"],VListItemContent:S["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"],VRow:x["a"],VSpacer:A["a"],VToolbar:L["a"],VToolbarTitle:E["b"]})}}]);